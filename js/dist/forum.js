(()=>{var o={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e)};(()=>{"use strict";const e=flarum.reg.get("core","forum/app");var t=o.n(e);const r=flarum.reg.get("core","common/extend"),n=flarum.reg.get("core","forum/utils/DiscussionControls");var s=o.n(n);const c=flarum.reg.get("core","forum/utils/PostControls");var a=o.n(c);const l=flarum.reg.get("core","forum/utils/UserControls");var i=o.n(l);const u=flarum.reg.get("core","common/components/Button");var d=o.n(u);function p(o){navigator.clipboard?navigator.clipboard.writeText(o):(o=>{var e=document.createElement("textarea");e.value=o,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)})(o)}flarum.reg.add("datlechin-copy-links","forum/utils/copyTextToClipboard",p),t().initializers.add("datlechin/flarum-copy-links",()=>{const o=o=>{const e=window.location.origin+o;return m(d(),{icon:"fas fa-copy",onclick:()=>{p(e),t().alerts.show({type:"success"},t().translator.trans("datlechin-copy-links.forum.link_copied_message"))}},t().translator.trans("datlechin-copy-links.forum.copy_link_button"))};(0,r.extend)(s(),"userControls",function(e,r){e.add("copyLink",o(t().route.discussion(r)))}),(0,r.extend)(a(),"userControls",function(e,r){e.add("copyLink",o(t().route.post(r)))}),(0,r.extend)(i(),"userControls",function(e,r){e.add("copyLink",o(t().route.user(r)))})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map